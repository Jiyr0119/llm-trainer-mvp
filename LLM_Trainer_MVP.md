# 大语言模型训练平台 MVP 文档

## 1. 文档信息

| 项目名称 | 大语言模型训练平台 MVP |
|---------|----------------------|
| 文档版本 | v1.0 |
| 创建日期 | 2025-08-14 |
| 作者 | Jonathan |

## 2. MVP目标

构建一个可在本地运行的简化版大语言模型训练平台，验证核心功能流程：
1. 使用开源模型进行本地微调训练
2. 提供基本的Web界面进行训练控制
3. 实现模型推理演示功能

## 3. 技术选型

### 3.1 前端技术栈
- Vue 3 + Vite
- Element Plus UI组件库
- Axios（HTTP客户端）

### 3.2 后端技术栈
- Python 3.9+
- FastAPI（Web框架）
- Hugging Face Transformers（模型处理）
- PyTorch（深度学习框架）
- SQLite（轻量级数据库）

### 3.3 模型选型
- 预训练模型：`bert-base-chinese`（中文场景）
- 任务类型：文本分类（可扩展至其他任务）

## 4. 核心功能

### 4.1 模型训练
- 加载预训练模型（Hugging Face）
- 本地数据集上传与处理
- 模型微调训练
- 训练过程监控

### 4.2 模型推理
- 模型加载与推理
- 文本分类预测
- 结果展示

### 4.3 Web界面
- 简洁的训练控制面板
- 数据上传界面
- 训练状态展示
- 推理测试界面

## 5. 系统架构

```
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
|   Vue Frontend   |<--->|  FastAPI Backend |<--->|  HuggingFace     |
|                  |     |                  |     |  Transformers    |
+------------------+     +------------------+     +------------------+
                                |                         |
                        +-------v------+         +--------v---------+
                        |              |         |                  |
                        |  SQLite DB   |         | Pre-trained      |
                        |              |         | Models           |
                        +--------------+         +------------------+
```

## 6. 项目结构

```
llm-trainer-mvp/
├── frontend/              # Vue前端项目
│   ├── src/
│   │   ├── components/    # Vue组件
│   │   ├── views/         # 页面视图
│   │   ├── services/      # API服务
│   │   └── App.vue        # 根组件
│   ├── public/            # 静态资源
│   └── index.html         # 入口HTML
├── backend/               # Python后端项目
│   ├── main.py            # FastAPI入口
│   ├── models/            # 数据模型
│   ├── services/          # 业务逻辑
│   ├── utils/             # 工具函数
│   └── database.py        # 数据库配置
├── data/                  # 数据存储目录
│   ├── uploads/           # 上传文件
│   ├── models/            # 训练模型
│   └── database.db        # SQLite数据库
├── requirements.txt       # Python依赖
├── package.json           # 前端依赖
└── README.md              # 项目说明
```

## 7. 核心功能实现

### 7.1 前端页面
1. **首页**
   - 项目介绍
   - 开始训练按钮

2. **数据上传页**
   - CSV文件上传（文本+标签）
   - 数据预览功能

3. **训练控制页**
   - 训练参数设置（学习率、批次大小等）
   - 开始/停止训练按钮
   - 训练进度展示

4. **推理测试页**
   - 文本输入框
   - 预测结果展示

### 7.2 后端API
1. **用户接口**
   - `GET /` - 健康检查
   - `POST /upload` - 上传数据集
   - `GET /datasets` - 获取数据集列表

2. **训练接口**
   - `POST /train` - 开始训练
   - `GET /train/status` - 获取训练状态
   - `POST /train/stop` - 停止训练

3. **推理接口**
   - `POST /predict` - 模型推理
   - `GET /models` - 获取模型列表

### 7.3 训练流程
1. 用户上传CSV格式数据集（text, label列）
2. 后端处理数据并保存到数据库
3. 用户设置训练参数并启动训练
4. 系统加载预训练模型并进行微调
5. 训练完成后保存模型
6. 用户可在推理页面测试模型效果

## 8. MVP交付标准

### 8.1 功能要求
- [ ] 本地运行环境搭建说明
- [ ] 数据集上传与处理
- [ ] 模型训练功能（至少支持一种任务）
- [ ] 模型推理演示
- [ ] 基础Web界面

### 8.2 性能要求
- 本地CPU环境下可运行（支持GPU为加分项）
- 单次训练时间控制在30分钟内（小型数据集）
- 模型推理响应时间小于5秒

### 8.3 兼容性要求
- 支持Windows、macOS、Linux操作系统
- 支持主流浏览器（Chrome、Firefox、Safari）

## 9. 本地运行指南

### 9.1 环境准备
1. Python 3.9+
2. Node.js 16+
3. 至少8GB内存

### 9.2 安装步骤
```bash
# 克隆项目
git clone <repository-url>
cd llm-trainer-mvp

# 安装后端依赖
cd backend
pip install -r requirements.txt

# 安装前端依赖
cd ../frontend
npm install
```

### 9.3 运行步骤
```bash
# 启动后端服务
cd backend
python main.py

# 启动前端服务（新终端）
cd frontend
npm run dev
```

### 9.4 访问应用
打开浏览器访问: http://localhost:5173

## 10. 后续扩展计划

### 10.1 功能扩展
- 支持更多预训练模型
- 增加更多NLP任务类型（文本生成、问答等）
- 模型版本管理
- 训练日志可视化

### 10.2 性能优化
- GPU训练支持
- 分布式训练
- 模型压缩与加速

### 10.3 用户体验优化
- 更丰富的可视化监控
- 模型效果对比
- 一键部署功能

## 11. 风险与限制

### 11.1 技术风险
- 本地资源限制可能影响训练效果
- 大模型加载可能导致内存不足

### 11.2 解决方案
- 提供小模型选项
- 增加资源监控与提示
- 优化模型加载机制

## 12. 附录

### 12.1 数据格式示例
```csv
text,label
"今天天气很好",positive
"我很不开心",negative
"这个产品不错",positive
```

### 12.2 API接口文档
详细API文档将通过Swagger提供，访问地址：http://localhost:8000/docs